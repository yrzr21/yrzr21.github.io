<!DOCTYPE html>
<html lang="zh-CN">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="lab1 Util" />
    <meta name="hexo-theme-A4" content="v1.9.2" />
    <link rel="alternate icon" type="image/webp" href="/img/logo.jpg">
    <title>Toki</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
    
   
<link rel="stylesheet" href="/css/lightgallery.min.css">


<meta name="generator" content="Hexo 7.2.0"></head>
    
    
        <style>
            .index-main{
                max-width:  880px;
            }
        </style>

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/logo.jpg" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Toki</a> 
            <span class="description">Why so serious?</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
            
                <li><a href="/contact/">è”ç³»</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        
            
                <div class="post-main-title">
                    lab1 Util
                </div>
            
        
      
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%89%8D%E8%A8%80"><span class="post-toc-text">å‰è¨€</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#lab-util"><span class="post-toc-text">lab util</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#user-level-sleep"><span class="post-toc-text">user-level sleep</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#user-level-pingpong"><span class="post-toc-text">user-level pingpong</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#primes"><span class="post-toc-text">primes</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#CSP-%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B"><span class="post-toc-text">CSP çº¿ç¨‹æ¨¡å‹</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#find"><span class="post-toc-text">find</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#xargs"><span class="post-toc-text">xargs</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%8C%87%E9%92%88%E4%BD%BF%E7%94%A8"><span class="post-toc-text">æŒ‡é’ˆä½¿ç”¨</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E7%BB%84"><span class="post-toc-text">å­—ç¬¦ä¸²æ•°ç»„</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#exec"><span class="post-toc-text">exec</span></a></li></ol></li></ol></li></ol>
            
        
        <link rel="stylesheet" type="text/css" href="https://jsd.cdn.zzko.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css"><div class=".article-gallery"><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬æ–‡ä»…ç”¨ä½œå­¦ä¹ è®°å½•</p>
<p>å…·ä½“å®ç°åœ¨è¿™é‡Œï¼š<a target="_blank" rel="noopener" href="https://github.com/yrzr21/xv6">yrzr21&#x2F;xv6 (github.com)</a></p>
<h2 id="lab-util"><a href="#lab-util" class="headerlink" title="lab util"></a>lab util</h2><h3 id="user-level-sleep"><a href="#user-level-sleep" class="headerlink" title="user-level sleep"></a>user-level sleep</h3><p>å¯èƒ½éœ€è¦æŸ¥çœ‹æ–‡ä»¶ï¼š</p>
<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240728183432.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240728183432.png" class title="Pasted image 20240728183432.png"></a>

<h3 id="user-level-pingpong"><a href="#user-level-pingpong" class="headerlink" title="user-level pingpong"></a>user-level pingpong</h3><p>ç®¡é“æ˜¯å•å‘çš„ï¼Œæƒ³è¦åŒå‘é€šä¿¡å¿…é¡»ä½¿ç”¨ä¸¤ä¸ªç®¡é“</p>
<h3 id="primes"><a href="#primes" class="headerlink" title="primes"></a>primes</h3><p>é€’å½’è¿‡ç¨‹ä¸­æ³¨æ„æ£€æµ‹ read çš„è¿”å›å€¼ä»¥åˆ¤æ–­ç»ˆæ­¢æ¡ä»¶</p>
<p>forkäº§ç”Ÿçš„å­è¿›ç¨‹å…±äº«çˆ¶è¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œä½†å¯å•ç‹¬å…³é—­è€Œä¸å½±å“å¦ä¸€ä¸ªè¿›ç¨‹</p>
<p>å°å¿ƒå…³é—­ä¸éœ€è¦çš„ fdï¼Œä¸ç„¶å¾ˆå¯èƒ½ä¸å¤Ÿç”¨â€¦</p>
<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240809151722.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240809151722.png" class title="Pasted image 20240809151722.png"></a>


<h4 id="CSP-çº¿ç¨‹æ¨¡å‹"><a href="#CSP-çº¿ç¨‹æ¨¡å‹" class="headerlink" title="CSP çº¿ç¨‹æ¨¡å‹"></a>CSP çº¿ç¨‹æ¨¡å‹</h4><p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://swtch.com/~rsc/thread/">è´å°”å®éªŒå®¤å’Œ CSP çº¿ç¨‹ â€” Bell Labs and CSP Threads (swtch.com)</a></p>
<p>æ¦‚è¿°ï¼šå¹¶å‘ç¼–ç¨‹ä¸åº”ä»…ä»…è¢«è§†ä½œä¸€ç§æå‡æ•ˆç‡çš„æ‰‹æ®µï¼Œæå‡æ•ˆç‡æœ‰å¤šç§æ–¹å¼ï¼Œå¦‚asynchronous event-driven programming å¼‚æ­¥äº‹ä»¶é©±åŠ¨çš„ç¼–ç¨‹ï¼Œä¸ä¸€å®šéœ€è¦å¹¶å‘ç¼–ç¨‹ã€‚å¹¶å‘ç¼–ç¨‹è¿˜å¯ä»¥æä¾›ä¸€ç§è‡ªç„¶çš„æŠ½è±¡ï¼Œä½¿å¾—ç¨‹åºæ›´åŠ ç®€å•</p>
<p>SRC çº¿ç¨‹æ¨¡å‹è¿‡äºåº•å±‚ï¼Œä¸å¾—ä¸é…åˆä¸€äº›å…¶ä»–çš„æŠ€æœ¯æ‰èƒ½ä½¿ç”¨ï¼Œæ­¤å¤„æä¾›äº†ä¸€ç§æ–°çš„å†…å­˜æ¨¡å‹</p>
<h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><p>openåï¼Œä½¿ç”¨ fstat è·å–æ–‡ä»¶ä¿¡æ¯å­˜å‚¨åœ¨ struct stat ä¸­ï¼Œé‡Œé¢ä¿å­˜äº†åŒ…å«æ–‡ä»¶ç±»å‹çš„å„ç§ä¿¡æ¯ï¼š</p>
<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240809152236.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240809152236.png" class title="Pasted image 20240809152236.png"></a>


<p>è¯»å–ç›®å½•æ–‡ä»¶å­˜å‚¨åœ¨ struct dirent ä¸­ï¼š</p>
<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240809152455.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240809152455.png" class title="Pasted image 20240809152455.png"></a>

<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240809152406.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240809152406.png" class title="Pasted image 20240809152406.png"></a>

<h3 id="xargs"><a href="#xargs" class="headerlink" title="xargs"></a>xargs</h3><h4 id="æŒ‡é’ˆä½¿ç”¨"><a href="#æŒ‡é’ˆä½¿ç”¨" class="headerlink" title="æŒ‡é’ˆä½¿ç”¨"></a>æŒ‡é’ˆä½¿ç”¨</h4><p>æŒ‡é’ˆæ•°ç»„ï¼Œä¸äºŒç»´æ•°ç»„å®Œå…¨ä¸åŒï¼š</p>
<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073223.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073223.png" class title="Pasted image 20240808073223.png"></a>

<p>args + x è¡¨ç¤ºç¬¬ x+1 ä¸ªå…ƒç´ ï¼š</p>
<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073351.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073351.png" class title="Pasted image 20240808073351.png"></a>

<p>æŒ‡é’ˆæ•°ç»„åšå‚æ•°æ—¶å¯èƒ½è¦æ±‚ä»¥NULLç»“å°¾ï¼š</p>
<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073358.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073358.png" class title="Pasted image 20240808073358.png"></a>

<p>æ³¨æ„æŒ‡é’ˆè¿ç®—ï¼š</p>
<ul>
<li>resultä¸ºchar**ç±»å‹</li>
</ul>
<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073521.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073521.png" class title="Pasted image 20240808073521.png"></a>

<h4 id="å­—ç¬¦ä¸²æ•°ç»„"><a href="#å­—ç¬¦ä¸²æ•°ç»„" class="headerlink" title="å­—ç¬¦ä¸²æ•°ç»„"></a>å­—ç¬¦ä¸²æ•°ç»„</h4><p>å¤åˆ¶åªæ˜¯æŒ‡é’ˆèµ‹å€¼â€¦è€Œéå¤åˆ¶å­—ç¬¦ä¸²</p>
<p>å¯ç”¨è¿™ç§æ–¹å¼åˆå§‹åŒ–ï¼š</p>
<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073737.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073737.png" class title="Pasted image 20240808073737.png"></a>

<p><em>read</em> è¯»è¿›æ¥çš„æ•°æ®ä¸ä¼šè‡ªåŠ¨<em>è¡¥0</em>ï¼Œéœ€è¦è‡ªå·±åŠ </p>
<p>å°å¿ƒåˆ¤æ–­å­—ç¬¦ä¸²ä¸­çš„å…ƒç´ ï¼š</p>
<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073948.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808073948.png" class title="Pasted image 20240808073948.png"></a>

<h4 id="exec"><a href="#exec" class="headerlink" title="exec"></a>exec</h4><p>exec çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯æ‰§è¡Œçš„ç¨‹åºåç§°</p>
<a href="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808074131.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/08/10/6.s081%20lab1%20util/Pasted%20image%2020240808074131.png" class title="Pasted image 20240808074131.png"></a>

<p>å¦‚ï¼šargv[1] ä¸º grepï¼Œåˆ™ args[0] å¿…é¡»æ˜¯ grepï¼Œä¸” args ä»¥ NULL ç»“å°¾</p>
</div><script src="https://jsd.cdn.zzko.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if("undefined"!=typeof lightGallery) {
        var options1 = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1);
        }</script>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2024-08-10</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« Toki</span>
            
            
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/6-s081/'>
                            6.s081
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 2024 

            
                

            
                
                    / <a href="/contact/"> è”ç³» </a>
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    

    





<script src="/js/lightgallery.min.js"></script>



                </div>
            
            
            
    </body>
</html>
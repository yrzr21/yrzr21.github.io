<!DOCTYPE html>
<html lang="zh-CN">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="15445 bootcamp 介绍 Cpp11 常用特性" />
    <meta name="hexo-theme-A4" content="v1.9.2" />
    <link rel="alternate icon" type="image/webp" href="/img/logo.jpg">
    <title>Toki</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--注意：首页既不是post也不是page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
        
            <!--目录-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
    
   
<link rel="stylesheet" href="/css/lightgallery.min.css">


<meta name="generator" content="Hexo 7.2.0"></head>
    
    
        <style>
            .index-main{
                max-width:  880px;
            }
        </style>

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: '🌓', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/logo.jpg" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Toki</a> 
            <span class="description">Why so serious?</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">首页</a></li>
            
        
            
                <li><a href="/list/">文章</a></li>
            
        
            
                <li><a href="/categories/">分类</a></li>
            
        
            
                <li><a href="/contact/">联系</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--说明是文章post页面-->
                    
                        <div class="post-main">

    
        
            
                <div class="post-main-title">
                    15445 bootcamp 介绍 Cpp11 常用特性
                </div>
            
        
      
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#bootcamp"><span class="post-toc-text">bootcamp</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%BC%95%E7%94%A8"><span class="post-toc-text">引用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Move-semantics"><span class="post-toc-text">Move semantics</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%B7%A6%E5%80%BC%E4%B8%8E%E5%8F%B3%E5%80%BC"><span class="post-toc-text">左值与右值</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#std-move-%E4%B8%8E-%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8"><span class="post-toc-text">std::move 与 右值引用</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%8F%B3%E5%80%BC%E5%AF%B9%E8%B1%A1"><span class="post-toc-text">右值对象</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%87%BD%E6%95%B0%E4%B8%8E%E7%A7%BB%E5%8A%A8%E8%AF%AD%E4%B9%89"><span class="post-toc-text">函数与移动语义</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Move-constructors"><span class="post-toc-text">Move constructors</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#C-Templates"><span class="post-toc-text">C++ Templates</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#specialized-template"><span class="post-toc-text">specialized template</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%8F%82%E6%95%B0%EF%BC%9A%E5%80%BC-%E9%9D%9E%E7%B1%BB%E5%9E%8B"><span class="post-toc-text">模板参数：值&#x2F;非类型</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#class-%E6%A8%A1%E6%9D%BF"><span class="post-toc-text">class 模板</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#wrapper"><span class="post-toc-text">wrapper</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%EF%BC%9A%E5%88%9D%E5%A7%8B%E5%8C%96%E8%B5%84%E6%BA%90"><span class="post-toc-text">构造函数：初始化资源</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%EF%BC%9A%E9%94%80%E6%AF%81%E8%B5%84%E6%BA%90"><span class="post-toc-text">析构函数：销毁资源</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%EF%BC%9A%E8%BD%AC%E7%A7%BB%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E6%9D%83-%E6%89%80%E6%9C%89%E6%9D%83"><span class="post-toc-text">移动构造：转移资源管理权&#x2F;所有权</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#iterator"><span class="post-toc-text">iterator</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#iter-iter"><span class="post-toc-text">++iter &#x2F; iter++</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link"><span class="post-toc-text">&#x3D;&#x3D; &#x2F; !&#x3D;</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#-1"><span class="post-toc-text">*</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Begin-End"><span class="post-toc-text">Begin &#x2F; End</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8-iterator"><span class="post-toc-text">使用 iterator</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Namespaces"><span class="post-toc-text">Namespaces</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%B5%8C%E5%A5%97%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="post-toc-text">嵌套命名空间</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#full-identifier"><span class="post-toc-text">full identifier</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%91%BD%E5%90%8D%E5%86%B2%E7%AA%81"><span class="post-toc-text">命名冲突</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#using"><span class="post-toc-text">using</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8namespaces"><span class="post-toc-text">使用namespaces</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#C-Standard-Library-STL-Containers"><span class="post-toc-text">C++ Standard Library (STL) Containers</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#std-vector"><span class="post-toc-text">std::vector</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#push-back-emplace-back"><span class="post-toc-text">push_back &amp; emplace_back</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E8%BF%AD%E4%BB%A3"><span class="post-toc-text">迭代</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#erase"><span class="post-toc-text">erase</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#remove-if-%E6%9D%A1%E4%BB%B6%E5%88%A0%E9%99%A4"><span class="post-toc-text">remove_if 条件删除</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#std-set"><span class="post-toc-text">std::set</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E6%8F%92%E5%85%A5%EF%BC%9Ainsert-emplace"><span class="post-toc-text">插入：insert &amp; emplace</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#find"><span class="post-toc-text">find</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#count"><span class="post-toc-text">count</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#erase-1"><span class="post-toc-text">erase</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E8%BF%AD%E4%BB%A3-1"><span class="post-toc-text">迭代</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#std-unordered-map"><span class="post-toc-text">std::unordered_map</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E6%8F%92%E5%85%A5%E4%B8%8E%E6%9B%B4%E6%96%B0"><span class="post-toc-text">插入与更新</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#find-%E4%B8%8E%E8%AE%BF%E9%97%AE-map-%E5%85%83%E7%B4%A0"><span class="post-toc-text">find 与访问 map 元素</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#count-1"><span class="post-toc-text">count</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#erase-2"><span class="post-toc-text">erase</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E8%BF%AD%E4%BB%A3-2"><span class="post-toc-text">迭代</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#auto"><span class="post-toc-text">auto</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#default-%E8%A1%8C%E4%B8%BA%EF%BC%9Acopy"><span class="post-toc-text">default 行为：copy</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#C-Standard-Library-STL-Memory%EF%BC%9A%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88"><span class="post-toc-text">C++ Standard Library (STL) Memory：智能指针</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#std-unique-ptr"><span class="post-toc-text">std::unique_ptr</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="post-toc-text">初始化</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#boolean"><span class="post-toc-text">boolean</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0"><span class="post-toc-text">移动构造</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#unique-ptr-%E4%BD%9C%E5%8F%82%E6%95%B0%EF%BC%9A%E5%BC%95%E7%94%A8"><span class="post-toc-text">unique_ptr 作参数：引用</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#std-shared-ptr"><span class="post-toc-text">std::shared_ptr</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96-1"><span class="post-toc-text">初始化</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#use-count"><span class="post-toc-text">use_count</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0-1"><span class="post-toc-text">移动构造</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="post-toc-text">函数参数</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E4%B8%80%E4%BA%9B%E8%A6%81%E7%82%B9"><span class="post-toc-text">一些要点</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8-make-xxx-%E6%9E%84%E9%80%A0%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88"><span class="post-toc-text">使用 make_xxx 构造智能指针</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#unique-ptr-%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="post-toc-text">unique_ptr 作为函数参数</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E4%BF%9D%E7%95%99%E4%B8%80%E4%BB%BD-make-shared-%E6%8C%87%E9%92%88"><span class="post-toc-text">保留一份 make_shared 指针</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#C-Standard-Library-STL-Synch-Primitives"><span class="post-toc-text">C++ Standard Library (STL) Synch Primitives</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#std-mutex"><span class="post-toc-text">std::mutex</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#std-scoped-lock"><span class="post-toc-text">std::scoped_lock</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#rwlock"><span class="post-toc-text">rwlock</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#std-condition-variable"><span class="post-toc-text">std::condition_variable</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#demo%EF%BC%9Aunique-ptr-%E5%AE%9E%E7%8E%B0"><span class="post-toc-text">demo：unique_ptr 实现</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E7%BB%8F%E5%85%B8%E9%94%99%E8%AF%AF"><span class="post-toc-text">经典错误</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#memory-leaks-double-freeing-use-after-freeing"><span class="post-toc-text">memory leaks, double freeing, use after freeing</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%A4%8D%E5%88%B6%E6%9E%84%E9%80%A0-unique-ptr"><span class="post-toc-text">复制构造 unique_ptr</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8%E6%97%A0%E6%95%88%E7%9A%84-unique-ptr-%E7%AD%89"><span class="post-toc-text">使用无效的 unique_ptr 等</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%92%8C"><span class="post-toc-text">&amp; 和 &amp;&amp;</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#unique-ptr-%E5%AE%9E%E7%8E%B0"><span class="post-toc-text">unique_ptr 实现</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9B%B4%E5%A4%9A"><span class="post-toc-text">更多</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Appendix-C-Documentation-for-Topics-Covered-in-the-Bootcamp"><span class="post-toc-text">Appendix: C++ Documentation for Topics Covered in the Bootcamp</span></a></li></ol></li></ol>
            
        
        <link rel="stylesheet" type="text/css" href="https://jsd.cdn.zzko.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css"><div class=".article-gallery"><h2 id="bootcamp"><a href="#bootcamp" class="headerlink" title="bootcamp"></a>bootcamp</h2><h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><p>别名，操纵内存中的同一个地址的目标</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908234419.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908234419.png" class title="Pasted image 20240908234419.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908234322.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908234322.png" class title="Pasted image 20240908234322.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071713.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071713.png" class title="Pasted image 20240909071713.png"></a>
<h3 id="Move-semantics"><a href="#Move-semantics" class="headerlink" title="Move semantics"></a>Move semantics</h3><p>转移所有权。一种深拷贝，可以提高效率</p>
<h4 id="左值与右值"><a href="#左值与右值" class="headerlink" title="左值与右值"></a>左值与右值</h4><p>左值：引用内存中的值，或者说，有名变量。右值：非左值。我们经常用右值对左值赋值，也即左值引用右值：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908235842.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908235842.png" class title="Pasted image 20240908235842.png"></a>

<p>左值的引用内存中的某个对象，而右值的引用他自己、且只能引用右值。</p>
<h4 id="std-move-与-右值引用"><a href="#std-move-与-右值引用" class="headerlink" title="std::move 与 右值引用"></a>std::move 与 右值引用</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908235133.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908235133.png" class title="Pasted image 20240908235133.png"></a>

<p><code>std::move</code> 可以在左值间转移所有权，就像在把左值当右值一样，所以std::move 在把左值对象转化为右值引用。</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909000328.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909000328.png" class title="Pasted image 20240909000328.png"></a>

<p>所有权转移后，原对象仍然有效，但是状态可能为空或未定义</p>
<h4 id="右值对象"><a href="#右值对象" class="headerlink" title="右值对象"></a>右值对象</h4><p>而右值引用对象不拥有数据，因为他只引用他自己，所以即便move一个左值对象给一个右值对象，也不会造成所有权的转移，原对象仍可使用</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909000605.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909000605.png" class title="Pasted image 20240909000605.png"></a>

<h4 id="函数与移动语义"><a href="#函数与移动语义" class="headerlink" title="函数与移动语义"></a>函数与移动语义</h4><p>可以传递一个右值引用给函数，callee中可以像一个引用使用该变量。返回后caller可以正常使用原对象</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908235732.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908235732.png" class title="Pasted image 20240908235732.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909003506.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909003506.png" class title="Pasted image 20240909003506.png"></a>

<p>但是一旦在callee中将右值对象转移给一个左值，那么caller中的原对象就不能用了</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908235530.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240908235530.png" class title="Pasted image 20240908235530.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909002729.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909002729.png" class title="Pasted image 20240909002729.png"></a>

<h4 id="Move-constructors"><a href="#Move-constructors" class="headerlink" title="Move constructors"></a>Move constructors</h4><p>移动构造器用于高效初始化一个类，通常通过std::move实现。</p>
<p>例如如下构造函数，它使用移动构造避免了深拷贝</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909070838.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909070838.png" class title="Pasted image 20240909070838.png"></a>

<p>——右值引用、再移动到左值。对于小数据完全可以不用移动构造，直接复制即可</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071422.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071422.png" class title="Pasted image 20240909071422.png"></a>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071955.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071955.png" class title="Pasted image 20240909071955.png"></a>

<p>移动赋值函数：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071514.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071514.png" class title="Pasted image 20240909071514.png"></a>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071859.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071859.png" class title="Pasted image 20240909071859.png"></a>


<p>删除复制构造与复制赋值后，即不可进行左值构造：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071610.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909071610.png" class title="Pasted image 20240909071610.png"></a>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909072140.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909072140.png" class title="Pasted image 20240909072140.png"></a>

<p>这里的andy先用默认构造函数初始化</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909072229.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909072229.png" class title="Pasted image 20240909072229.png"></a>



<h3 id="C-Templates"><a href="#C-Templates" class="headerlink" title="C++ Templates"></a>C++ Templates</h3><p>可以允许写一个适用于多种参数的函数与类</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909080233.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909080233.png" class title="Pasted image 20240909080233.png"></a>

<p>在c++标准中，typename 和 class 并没有语义上的区别</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909080439.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909080439.png" class title="Pasted image 20240909080439.png"></a>

<p>多个模板参数的函数</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909081816.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909081816.png" class title="Pasted image 20240909081816.png"></a>

<p>可以传递模板参数，也可以自动推导</p>
<h4 id="specialized-template"><a href="#specialized-template" class="headerlink" title="specialized template"></a>specialized template</h4><p>允许特化某个模板，对特定参数类型调用特定的函数，进行特殊的处理</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909080811.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909080811.png" class title="Pasted image 20240909080811.png"></a>

<p>此例中，对于float参数，优先调用下面的特化模板函数</p>
<h4 id="模板参数：值-非类型"><a href="#模板参数：值-非类型" class="headerlink" title="模板参数：值&#x2F;非类型"></a>模板参数：值&#x2F;非类型</h4><p>模板参数可以不是某个类，可以是特定的值。函数对于不同的值有不同的表现行为：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909081126.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909081126.png" class title="Pasted image 20240909081126.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909082036.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909082036.png" class title="Pasted image 20240909082036.png"></a>

<h4 id="class-模板"><a href="#class-模板" class="headerlink" title="class 模板"></a>class 模板</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909082300.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909082300.png" class title="Pasted image 20240909082300.png"></a>

<p>双模板参数</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909082405.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909082405.png" class title="Pasted image 20240909082405.png"></a>

<p>特化模板参数</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909082640.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909082640.png" class title="Pasted image 20240909082640.png"></a>

<p>非类型模板参数</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909082905.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909082905.png" class title="Pasted image 20240909082905.png"></a>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909083135.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909083135.png" class title="Pasted image 20240909083135.png"></a>

<p>使用模板参数</p>
<h3 id="wrapper"><a href="#wrapper" class="headerlink" title="wrapper"></a>wrapper</h3><p>wrapper 是一个管理资源的类，通常使用RAII风格，变量的生命周期和其作用域绑定。</p>
<blockquote>
<p>这里的资源可以是 memory, file sockets, or a network connection</p>
</blockquote>
<blockquote>
<p>wrapper一旦初始化，其管理的资源即可用。被销毁后，管理的资源即不可用</p>
</blockquote>
<p>基于管理资源的语义，一个wrapper<code>禁止通过复制构造</code>，使得资源被两个wrapper管理。所以copy assignment operator and copy constructor 被删除了</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909084420.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909084420.png" class title="Pasted image 20240909084420.png"></a>

<p>然而仍然<code>允许移动构造</code>，转移资源的管理权</p>
<h4 id="构造函数：初始化资源"><a href="#构造函数：初始化资源" class="headerlink" title="构造函数：初始化资源"></a>构造函数：初始化资源</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909084700.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909084700.png" class title="Pasted image 20240909084700.png"></a>

<p>wrapper的构造函数旨在初始化它管理的资源</p>
<h4 id="析构函数：销毁资源"><a href="#析构函数：销毁资源" class="headerlink" title="析构函数：销毁资源"></a>析构函数：销毁资源</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909084809.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909084809.png" class title="Pasted image 20240909084809.png"></a>

<p>析构函数旨在清理资源。由于资源的所有权可能被转移，并设置原指针为nullptr，我们需要在析构函数中增加if判断其是不是空指针</p>
<h4 id="移动构造：转移资源管理权-所有权"><a href="#移动构造：转移资源管理权-所有权" class="headerlink" title="移动构造：转移资源管理权&#x2F;所有权"></a>移动构造：转移资源管理权&#x2F;所有权</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909091027.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909091027.png" class title="Pasted image 20240909091027.png"></a>

<p>一个wrapper只能管理一个资源，所以原资源会被释放</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909091211.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909091211.png" class title="Pasted image 20240909091211.png"></a>

<h3 id="iterator"><a href="#iterator" class="headerlink" title="iterator"></a>iterator</h3><p>iterator 指向容器内的元素，可以迭代这些元素。其主要的操作符为 * 和 ++</p>
<blockquote>
<p>C++ STL containers 都使用了迭代器</p>
</blockquote>
<h4 id="iter-iter"><a href="#iter-iter" class="headerlink" title="++iter &#x2F; iter++"></a>++iter &#x2F; iter++</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909092011.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909092011.png" class title="Pasted image 20240909092011.png"></a>

<p>后缀自增需要先保存之前的指针，自增当前的，然后返回之前的指针。其实现使用了前缀自增进行迭代，以保证通用性</p>
<h4 id><a href="#" class="headerlink" title="&#x3D;&#x3D; &#x2F; !&#x3D;"></a>&#x3D;&#x3D; &#x2F; !&#x3D;</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909092403.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909092403.png" class title="Pasted image 20240909092403.png"></a>

<p>iterator 比较运算符主要测试二者是否指向同一个元素</p>
<h4 id="-1"><a href="#-1" class="headerlink" title="*"></a>*</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909092604.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909092604.png" class title="Pasted image 20240909092604.png"></a>

<h4 id="Begin-End"><a href="#Begin-End" class="headerlink" title="Begin &#x2F; End"></a>Begin &#x2F; End</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909093212.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909093212.png" class title="Pasted image 20240909093212.png"></a>

<p>End 返回容器末尾元素之后的一个元素的迭代器。此例中是nullptr为参数的迭代器</p>
<h4 id="使用-iterator"><a href="#使用-iterator" class="headerlink" title="使用 iterator"></a>使用 iterator</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909093405.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909093405.png" class title="Pasted image 20240909093405.png"></a>

<p>其余部分：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909092830.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909092830.png" class title="Pasted image 20240909092830.png"></a>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909092958.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909092958.png" class title="Pasted image 20240909092958.png"></a>

<h3 id="Namespaces"><a href="#Namespaces" class="headerlink" title="Namespaces"></a>Namespaces</h3><p><code>命名空间</code>用于以<code>组</code>的形式管理标识符，可以方便的避免命名冲突、并辨别出标识符是在哪里定义的。使用 <code>::</code> 进行scope resolution</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909093948.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909093948.png" class title="Pasted image 20240909093948.png"></a>

<p>可定义的标识符例如：函数</p>
<h4 id="嵌套命名空间"><a href="#嵌套命名空间" class="headerlink" title="嵌套命名空间"></a>嵌套命名空间</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909094203.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909094203.png" class title="Pasted image 20240909094203.png"></a>

<p>命名空间可以<code>嵌套</code>。<code>同命名空间</code>中的标识符可以直接使用</p>
<h4 id="full-identifier"><a href="#full-identifier" class="headerlink" title="full identifier"></a>full identifier</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909094345.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909094345.png" class title="Pasted image 20240909094345.png"></a>

<p>可以通过完整的标识符 <code>full identifier</code> 访问任意标识符。</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909094607.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909094607.png" class title="Pasted image 20240909094607.png"></a>

<p>而由于 uses_DEF_bar 和命名空间 DEF 都在同一个命名空间中，于是前者访问后者中的函数就不用加上ABC::前缀</p>
<h4 id="命名冲突"><a href="#命名冲突" class="headerlink" title="命名冲突"></a>命名冲突</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909094850.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909094850.png" class title="Pasted image 20240909094850.png"></a>

<p>命名空间解决了命名冲突问题。此处的A和B中的foo并不会产生冲突，因为二者的绝对标识符完全不同</p>
<h4 id="using"><a href="#using" class="headerlink" title="using"></a>using</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909102044.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909102044.png" class title="Pasted image 20240909102044.png"></a>

<p>using 可以引入一个命名空间到当前作用域中，也可以单独引入某个函数、或者命名空间中的命名空间</p>
<h4 id="使用namespaces"><a href="#使用namespaces" class="headerlink" title="使用namespaces"></a>使用namespaces</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909102547.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909102547.png" class title="Pasted image 20240909102547.png"></a><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909102607.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909102607.png" class title="Pasted image 20240909102607.png"></a>

<h3 id="C-Standard-Library-STL-Containers"><a href="#C-Standard-Library-STL-Containers" class="headerlink" title="C++ Standard Library (STL) Containers"></a>C++ Standard Library (STL) Containers</h3><h4 id="std-vector"><a href="#std-vector" class="headerlink" title="std::vector"></a>std::vector</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909103226.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909103226.png" class title="Pasted image 20240909103226.png"></a>

<h5 id="push-back-emplace-back"><a href="#push-back-emplace-back" class="headerlink" title="push_back &amp; emplace_back"></a>push_back &amp; emplace_back</h5><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909103352.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909103352.png" class title="Pasted image 20240909103352.png"></a>

<p>emplace_back 是原地构造，而push_back会复制对象</p>
<h5 id="迭代"><a href="#迭代" class="headerlink" title="迭代"></a>迭代</h5><p>使用index：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909103953.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909103953.png" class title="Pasted image 20240909103953.png"></a>

<p>for-each：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909104055.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909104055.png" class title="Pasted image 20240909104055.png"></a>

<p>以及迭代器</p>
<h5 id="erase"><a href="#erase" class="headerlink" title="erase"></a>erase</h5><p>传递一个迭代器，删除这个位置的元素</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909104654.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909104654.png" class title="Pasted image 20240909104654.png"></a>

<p>可以删除某个迭代范围内的数据</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909104828.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909104828.png" class title="Pasted image 20240909104828.png"></a>

<h5 id="remove-if-条件删除"><a href="#remove-if-条件删除" class="headerlink" title="remove_if 条件删除"></a>remove_if 条件删除</h5><p>需要引入库：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909102944.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909102944.png" class title="Pasted image 20240909102944.png"></a>

<p>前两个参数指明删除的范围，第三个参数为 conditional lambda type</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909105648.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909105648.png" class title="Pasted image 20240909105648.png"></a>

<p>remove_if 会对范围内的所有元素应用第三个参数，如果返回真则该元素被删除，否则返回假。它将需要删除和不需要删除的元素交换，从而将前半部分分区为不需要删除的部分，后半部分分区为需要删除的元素们，返回后半部分第一个元素的迭代器。erase利用这个迭代器和容器末尾的迭代器，删除它们</p>
<h4 id="std-set"><a href="#std-set" class="headerlink" title="std::set"></a>std::set</h4><p>一个包含排序的、不重复的、单一类型的元素的数据结构，通常使用红黑树实现</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909145500.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909145500.png" class title="Pasted image 20240909145500.png"></a>


<h5 id="插入：insert-emplace"><a href="#插入：insert-emplace" class="headerlink" title="插入：insert &amp; emplace"></a>插入：insert &amp; emplace</h5><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909145735.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909145735.png" class title="Pasted image 20240909145735.png"></a>

<h5 id="find"><a href="#find" class="headerlink" title="find"></a>find</h5><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909150130.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909150130.png" class title="Pasted image 20240909150130.png"></a>

<p>find 返回指定key的迭代器，如果返回end，则没有该key</p>
<h5 id="count"><a href="#count" class="headerlink" title="count"></a>count</h5><p>计数指定key的元素的数目</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909150309.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909150309.png" class title="Pasted image 20240909150309.png"></a>

<h5 id="erase-1"><a href="#erase-1" class="headerlink" title="erase"></a>erase</h5><p>可以以多种方式进行erase，例如key、迭代器、指定范围的迭代器</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909150631.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909150631.png" class title="Pasted image 20240909150631.png"></a><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909150651.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909150651.png" class title="Pasted image 20240909150651.png"></a><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909150703.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909150703.png" class title="Pasted image 20240909150703.png"></a>
<h5 id="迭代-1"><a href="#迭代-1" class="headerlink" title="迭代"></a>迭代</h5><p>无法通过index进行迭代，只能通过迭代器以及for-each</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909151016.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909151016.png" class title="Pasted image 20240909151016.png"></a>


<h4 id="std-unordered-map"><a href="#std-unordered-map" class="headerlink" title="std::unordered_map"></a>std::unordered_map</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909151421.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909151421.png" class title="Pasted image 20240909151421.png"></a>

<p>存储key-value对，key不重复。可以将它用作hash表</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909151524.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909151524.png" class title="Pasted image 20240909151524.png"></a>

<h5 id="插入与更新"><a href="#插入与更新" class="headerlink" title="插入与更新"></a>插入与更新</h5><p>可以一次性插一对、也可以插多对，其中有make_pair这种特殊的插入形式。</p>
<p>另外还可以用更新的方式插入，即便原key不存在</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909151633.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909151633.png" class title="Pasted image 20240909151633.png"></a>

<h5 id="find-与访问-map-元素"><a href="#find-与访问-map-元素" class="headerlink" title="find 与访问 map 元素"></a>find 与访问 map 元素</h5><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909151916.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909151916.png" class title="Pasted image 20240909151916.png"></a>

<p>find 和之前描述的行为一致。</p>
<p>访问unordered_map的元素可以使用迭代器-&gt;first&#x2F;second访问</p>
<p>对unordered_map进行dereference会得到一个std::pair类型的元素…同样还是用first&#x2F;second进行访问</p>
<h5 id="count-1"><a href="#count-1" class="headerlink" title="count"></a>count</h5><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909153332.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909153332.png" class title="Pasted image 20240909153332.png"></a>


<h5 id="erase-2"><a href="#erase-2" class="headerlink" title="erase"></a>erase</h5><p>使用key、特定位置的迭代器删除元素。不能指定范围，因为”unordered”，你也不知道会得到什么行为</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909153356.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909153356.png" class title="Pasted image 20240909153356.png"></a>

<h5 id="迭代-2"><a href="#迭代-2" class="headerlink" title="迭代"></a>迭代</h5><p>同样不能通过index迭代，可以通过迭代器以及for-each迭代</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909154010.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909154010.png" class title="Pasted image 20240909154010.png"></a>


<h4 id="auto"><a href="#auto" class="headerlink" title="auto"></a>auto</h4><p>auto 用于初始化一个变量时，根据其初始化的表达式推断变量的类型。有了auto便不用和前面一样书写冗长的变量类型，也可用于for-each loop。但是也会带来使用未知类型的风险</p>
<blockquote>
<p>冗长的情形比如：巨多的模板、嵌套的命名空间、非常长的变量名</p>
</blockquote>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909154544.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909154544.png" class title="Pasted image 20240909154544.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909154645.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909154645.png" class title="Pasted image 20240909154645.png"></a>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909155523.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909155523.png" class title="Pasted image 20240909155523.png"></a><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909155544.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909155544.png" class title="Pasted image 20240909155544.png"></a>

<h5 id="default-行为：copy"><a href="#default-行为：copy" class="headerlink" title="default 行为：copy"></a>default 行为：copy</h5><p>auto的默认行为是复制元素，这可能会降低性能。而auto&amp;则不会复制元素，仅仅用作引用</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909155003.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909155003.png" class title="Pasted image 20240909155003.png"></a>





<h3 id="C-Standard-Library-STL-Memory：智能指针"><a href="#C-Standard-Library-STL-Memory：智能指针" class="headerlink" title="C++ Standard Library (STL) Memory：智能指针"></a>C++ Standard Library (STL) Memory：智能指针</h3><p>用于自动内存管理，其内部持有一个裸指针，是对裸指针的wrapper。采用RAII风格。</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909160427.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909160427.png" class title="Pasted image 20240909160427.png"></a>
<h4 id="std-unique-ptr"><a href="#std-unique-ptr" class="headerlink" title="std::unique_ptr"></a>std::unique_ptr</h4><p>唯一持有对象的unique_ptr，是资源的拥有者。因此没有复制构造器</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909161025.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909161025.png" class title="Pasted image 20240909161025.png"></a>

<h5 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h5><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909160552.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909160552.png" class title="Pasted image 20240909160552.png"></a>

<h5 id="boolean"><a href="#boolean" class="headerlink" title="boolean"></a>boolean</h5><p>当智能指针被作为bool值处理时，会自动调用其内部的一个函数。当它管理着一个资源时，返回真；指针为空则返回假</p>
<p>所有的智能指针都有这个特性</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909160917.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909160917.png" class title="Pasted image 20240909160917.png"></a>

<h5 id="移动构造"><a href="#移动构造" class="headerlink" title="移动构造"></a>移动构造</h5><p>可以转移资源的所有权</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909161107.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909161107.png" class title="Pasted image 20240909161107.png"></a>

<h5 id="unique-ptr-作参数：引用"><a href="#unique-ptr-作参数：引用" class="headerlink" title="unique_ptr 作参数：引用"></a>unique_ptr 作参数：引用</h5><p>作为引用传递即可，所有权仍未发生变化，函数中的引用消失时资源并未消失。</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909161356.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909161356.png" class title="Pasted image 20240909161356.png"></a><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909161409.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909161409.png" class title="Pasted image 20240909161409.png"></a>


<h4 id="std-shared-ptr"><a href="#std-shared-ptr" class="headerlink" title="std::shared_ptr"></a>std::shared_ptr</h4><p>所有权共享，内部维护一个计数，当不再有shared_ptr指向时销毁资源。可以进行复制构造，每次复制时都会增加其内部的计数</p>
<h5 id="初始化-1"><a href="#初始化-1" class="headerlink" title="初始化"></a>初始化</h5><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909161727.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909161727.png" class title="Pasted image 20240909161727.png"></a>

<h5 id="use-count"><a href="#use-count" class="headerlink" title="use_count"></a>use_count</h5><p>返回当前的计数</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909163832.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909163832.png" class title="Pasted image 20240909163832.png"></a>
<h5 id="移动构造-1"><a href="#移动构造-1" class="headerlink" title="移动构造"></a>移动构造</h5><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164013.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164013.png" class title="Pasted image 20240909164013.png"></a>

<p>通过这种方式构造引用计数不变</p>
<h5 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h5><p>可以通过引用和右值进行参数传递</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164222.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164222.png" class title="Pasted image 20240909164222.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164533.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164533.png" class title="Pasted image 20240909164533.png"></a>

<p>shared_ptr也可以做左值传递，函数中会增加计数，并在离开函数后减去一个计数</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164631.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164631.png" class title="Pasted image 20240909164631.png"></a>

<p>另一个离开作用域的示例：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909182234.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909182234.png" class title="Pasted image 20240909182234.png"></a>
<h4 id="一些要点"><a href="#一些要点" class="headerlink" title="一些要点"></a>一些要点</h4><h5 id="使用-make-xxx-构造智能指针"><a href="#使用-make-xxx-构造智能指针" class="headerlink" title="使用 make_xxx 构造智能指针"></a>使用 make_xxx 构造智能指针</h5><p>否则可能会出现这种情形：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909181704.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909181704.png" class title="Pasted image 20240909181704.png"></a>

<h5 id="unique-ptr-作为函数参数"><a href="#unique-ptr-作为函数参数" class="headerlink" title="unique_ptr 作为函数参数"></a>unique_ptr 作为函数参数</h5><p>获取裸指针：get</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909181914.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909181914.png" class title="Pasted image 20240909181914.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909181849.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909181849.png" class title="Pasted image 20240909181849.png"></a>

<h5 id="保留一份-make-shared-指针"><a href="#保留一份-make-shared-指针" class="headerlink" title="保留一份 make_shared 指针"></a>保留一份 make_shared 指针</h5><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909182509.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909182509.png" class title="Pasted image 20240909182509.png"></a>










<h3 id="C-Standard-Library-STL-Synch-Primitives"><a href="#C-Standard-Library-STL-Synch-Primitives" class="headerlink" title="C++ Standard Library (STL) Synch Primitives"></a>C++ Standard Library (STL) Synch Primitives</h3><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164849.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164849.png" class title="Pasted image 20240909164849.png"></a>

<h4 id="std-mutex"><a href="#std-mutex" class="headerlink" title="std::mutex"></a>std::mutex</h4><p>同步原语通常用于有共享资源的情形，需要一把锁来保护</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164956.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909164956.png" class title="Pasted image 20240909164956.png"></a>

<p>每次使用资源都需要lock&#x2F;unlock</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909165158.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909165158.png" class title="Pasted image 20240909165158.png"></a>

<h4 id="std-scoped-lock"><a href="#std-scoped-lock" class="headerlink" title="std::scoped_lock"></a>std::scoped_lock</h4><p>一个lock的wrapper，RAII风格，自动加锁解锁</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909165528.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909165528.png" class title="Pasted image 20240909165528.png"></a>

<h4 id="rwlock"><a href="#rwlock" class="headerlink" title="rwlock"></a>rwlock</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909170941.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909170941.png" class title="Pasted image 20240909170941.png"></a>

<ul>
<li>std::shared_lock 用于读锁，可以共享，但只能读取数据</li>
<li>std::unique_lock 用于写锁，属于独占锁。该线程需要修改数据，只能有一个线程持有该锁。不可复制构造</li>
</ul>
<p>二者都是RAII风格。std::hared_mutex 允许读锁、写锁的使用</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909171601.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909171601.png" class title="Pasted image 20240909171601.png"></a>


<h4 id="std-condition-variable"><a href="#std-condition-variable" class="headerlink" title="std::condition_variable"></a>std::condition_variable</h4><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909170114.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909170114.png" class title="Pasted image 20240909170114.png"></a>

<p>一个通道，用于唤醒满足条件的进程。条件由条件变量wait中指定的函数确定</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909170223.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909170223.png" class title="Pasted image 20240909170223.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909171834.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909171834.png" class title="Pasted image 20240909171834.png"></a>

<p>wait 解锁，被唤醒后加锁</p>
<h3 id="demo：unique-ptr-实现"><a href="#demo：unique-ptr-实现" class="headerlink" title="demo：unique_ptr 实现"></a>demo：unique_ptr 实现</h3><h4 id="经典错误"><a href="#经典错误" class="headerlink" title="经典错误"></a>经典错误</h4><h5 id="memory-leaks-double-freeing-use-after-freeing"><a href="#memory-leaks-double-freeing-use-after-freeing" class="headerlink" title="memory leaks, double freeing, use after freeing"></a>memory leaks, double freeing, use after freeing</h5><p>使用裸指针可能产生的问题，使用智能指针可以解决以上所有问题，它会在生命周期结束时自动释放资源，在创建时自动分配资源</p>
<h5 id="复制构造-unique-ptr"><a href="#复制构造-unique-ptr" class="headerlink" title="复制构造 unique_ptr"></a>复制构造 unique_ptr</h5><p>RAII风格的wrapper大多不允许复制构造，作为左值传递一般是不行的</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909172953.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909172953.png" class title="Pasted image 20240909172953.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909173008.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909173008.png" class title="Pasted image 20240909173008.png"></a>

<h5 id="使用无效的-unique-ptr-等"><a href="#使用无效的-unique-ptr-等" class="headerlink" title="使用无效的 unique_ptr 等"></a>使用无效的 unique_ptr 等</h5><p>在转移资源的所有权后尝试使用ptr</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909173200.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909173200.png" class title="Pasted image 20240909173200.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909173349.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909173349.png" class title="Pasted image 20240909173349.png"></a>

<h5 id="和"><a href="#和" class="headerlink" title="&amp; 和 &amp;&amp;"></a>&amp; 和 &amp;&amp;</h5><a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909181208.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909181208.png" class title="Pasted image 20240909181208.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909181404.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909181404.png" class title="Pasted image 20240909181404.png"></a>
<h4 id="unique-ptr-实现"><a href="#unique-ptr-实现" class="headerlink" title="unique_ptr 实现"></a>unique_ptr 实现</h4><ul>
<li><p>需要禁用复制构造，防止二次释放——会有两个wrapper管理一个资源</p>
</li>
<li><p>不能再次用一个裸指针或者引用传递资源，这又回到了我们的最初问题<br>  引用和指针本质上是同一件事，应用也不能扩展资源的作用域</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909180214.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909180214.png" class title="Pasted image 20240909180214.png"></a>
</li>
<li><p>所以转移资源的所有权、以及扩展资源的作用域需要用移动构造<br>  转移所有权后，原智能指针即无效，被设为nullptr</p>
</li>
</ul>
<p>于是这是我们可以安全做到的事情：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909180630.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909180630.png" class title="Pasted image 20240909180630.png"></a>

<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909180543.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909180543.png" class title="Pasted image 20240909180543.png"></a>

<p>我们可以继续添加特性，例如模板、操作符重载：</p>
<a href="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909180732.png" class="gallery-item" style="box-shadow: none;"> <img src="/2024/09/09/Cpp%2015445%20bootcamp%20%E4%BB%8B%E7%BB%8D%20Cpp11%20%E5%B8%B8%E7%94%A8%E7%89%B9%E6%80%A7/Pasted%20image%2020240909180732.png" class title="Pasted image 20240909180732.png"></a>








<h3 id="更多"><a href="#更多" class="headerlink" title="更多"></a>更多</h3><ul>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/">https://en.cppreference.com/w/</a>: Unofficial but quite accurate summary and examples of both C++ and C standards.</li>
<li><a target="_blank" rel="noopener" href="https://cplusplus.com/">https://cplusplus.com/</a>: Contains both a C++ language <a target="_blank" rel="noopener" href="https://cplusplus.com/doc/tutorial/">tutorial</a> and a C++ library <a target="_blank" rel="noopener" href="https://cplusplus.com/reference/">reference</a>.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/changkun/modern-cpp-tutorial">Modern C++ Tutorial</a>. This GitHub repo contains some information and exercises that are useful!</li>
</ul>
<h3 id="Appendix-C-Documentation-for-Topics-Covered-in-the-Bootcamp"><a href="#Appendix-C-Documentation-for-Topics-Covered-in-the-Bootcamp" class="headerlink" title="Appendix: C++ Documentation for Topics Covered in the Bootcamp"></a>Appendix: C++ Documentation for Topics Covered in the Bootcamp</h3><p>This documentation may be useful to you! It’s very comprehensive (much more comprehensive than this bootcamp) but it may lack some readability. Overall, I think it’s still a good idea to try to read and understand this documentation, especially when working on the projects. Although the bootcamp tries to be as comprehensive as possible, it still only covers the bare bones of using modern C++.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/reference">References</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/utility/move">std::move</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/move_constructor">Move Constructors</a> and <a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/move_assignment">Move Assignment Operators</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/function_template">Templated Functions</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/class_template">Templated Classes</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/iterator">Iterators</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/namespace">Namespaces</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/container/vector">std::vector</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/container/set">std::set</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/container/unordered_map">std::unordered_map</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/auto">auto</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/memory/shared_ptr">std::shared_ptr</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/thread/mutex">std::mutex</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/thread/scoped_lock">std::scoped_lock</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/thread/condition_variable">std::condition_variable</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/thread/shared_mutex">std::shared_mutex</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/thread/shared_lock">std::shared_lock</a></li>
<li><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/thread/unique_lock">std::unique_lock</a></li>
</ul>
</div><script src="https://jsd.cdn.zzko.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if("undefined"!=typeof lightGallery) {
        var options1 = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1);
        }</script>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2024-09-09</span>
            
                <span>该篇文章被 Toki</span>
            
            
             
                <span>归为分类:
                    
                    
                        <a href='/categories/Cpp/'>
                            Cpp
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            © 2024 

            
                

            
                
                    / <a href="/contact/"> 联系 </a>
                

            
        </span>
    
</div>
<!--这是指一条线往下的内容-->
<div class="footer-last">
    
            <span></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--目录-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--回到顶部按钮-->
    

    





<script src="/js/lightgallery.min.js"></script>



                </div>
            
            
            
    </body>
</html>